# insta_kendou - BibliothÃ¨que Instagram ComplÃ¨te

## ğŸ“‹ Table des matiÃ¨res

- [Installation](#installation)
- [Configuration](#configuration)
- [Authentification](#authentification)
- [Actions de base](#actions-de-base)
- [Gestion des mÃ©dias](#gestion-des-mÃ©dias)
- [Informations utilisateur](#informations-utilisateur)
- [Recherche et dÃ©couverte](#recherche-et-dÃ©couverte)
- [Actions avancÃ©es](#actions-avancÃ©es)
- [Gestion des sessions](#gestion-des-sessions)
- [Gestion d'erreurs](#gestion-derreurs)
- [Support](#support)

## ğŸš€ Installation

```bash
# Installation depuis GitHub
pip install git+https://github.com/Ken56266325/insta_kendou.git
```

## âš™ï¸ Configuration

### Code d'accÃ¨s obligatoire

**IMPORTANT**: Cette bibliothÃ¨que nÃ©cessite un code d'accÃ¨s pour fonctionner. IntÃ©grez ce code dans votre script :

```python
# CODE D'ACCÃˆS OBLIGATOIRE
ACCESS_CODE = "MampifalyfelicienKennyNestinFoad56266325$17Mars2004FeliciteGemmellineNestine"
```

### Import de base

```python
from insta_kendou import InstagramClient

# Import des exceptions (optionnel)
from insta_kendou import (
    InstagramError,
    AuthenticationError,
    TwoFactorError,
    ChallengeError,
    MediaError,
    LicenseError
)
```

## ğŸ” Authentification

### Connexion simple

```python
client = InstagramClient()

# Connexion avec identifiants
result = client.login("username", "password")

if result["success"]:
    print(f"âœ… ConnectÃ© en tant que @{result['user_data']['username']}")
    print(f"ğŸ‘¥ {result['user_data']['follower_count']:,} abonnÃ©s")
else:
    print(f"âŒ Erreur: {result['message']}")
```

### Gestion 2FA automatique

La bibliothÃ¨que gÃ¨re automatiquement :
- **Bloks 2FA** : Flux moderne Instagram
- **2FA Alternatif** : Nouveaux dÃ©fis de sÃ©curitÃ©  
- **2FA Classique** : Codes SMS/Email traditionnels
- **Challenge/Checkpoint** : RÃ©solution automatique

```python
# La 2FA est gÃ©rÃ©e automatiquement
result = client.login("username", "password")

# Types de rÃ©ponses possibles:
if result["success"]:
    print("Connexion rÃ©ussie!")
elif result["message"] == "user_not_found":
    print("Utilisateur inexistant")
elif result["message"] == "password_incorrect":
    print("Mot de passe incorrect")
elif "2FA" in result["message"]:
    print("2FA en cours de rÃ©solution...")
```

### Sessions persistantes

```python
# Charger session existante
session_data = client.load_session("username")

if session_data:
    print("âœ… Session chargÃ©e")
else:
    # Connexion requise
    result = client.login("username", "password")

# Sauvegarder session
client.dump_session("username")
```

## â¤ï¸ Actions de base

### Liker un post

```python
# Liker avec URL complÃ¨te
result = client.like_post("https://www.instagram.com/p/ABC123/")

# Liker avec lien court
result = client.like_post("https://instagr.am/p/ABC123/")

# Afficher Media ID (optionnel)
if client.api:
    media_id = client.api.extract_media_id_from_url(url)
    print(f"ğŸ“· Media ID: {media_id}")

# VÃ©rifier le rÃ©sultat
if result["success"]:
    print("âœ… Like rÃ©ussi!")
else:
    print(f"âŒ Erreur: {result['error']}")
```

### Commenter un post

```python
# Commenter
result = client.comment_post(
    "https://www.instagram.com/p/ABC123/",
    "Super post! ğŸ”¥"
)

# Avec affichage du Media ID
if client.api:
    media_id = client.api.extract_media_id_from_url(url)
    print(f"ğŸ“· Media ID: {media_id}")

if result["success"]:
    print("âœ… Commentaire ajoutÃ©!")
else:
    print(f"âŒ Erreur: {result['error']}")
```

### Suivre un utilisateur

```python
# URL complÃ¨te
result = client.follow_user("https://www.instagram.com/username/")

# Username simple (ajout automatique d'URL)
result = client.follow_user("@username")

# Afficher User ID (optionnel)
if client.api:
    user_id = client.api.extract_user_id_from_url(url)
    print(f"ğŸ‘¤ User ID: {user_id}")

if result["success"]:
    print("âœ… Follow rÃ©ussi!")
else:
    print(f"âŒ Erreur: {result['error']}")
```

## ğŸ“± Gestion des mÃ©dias

### Publier une story

```python
# Upload story
result = client.upload_story("/path/to/image.jpg")

if result["success"]:
    print("âœ… Story publiÃ©e!")
else:
    print(f"âŒ Erreur: {result['error']}")

# Formats supportÃ©s: JPG, PNG
# RÃ©solution optimale: 720x1280 (9:16)
```

### Publier un post

```python
# Post avec lÃ©gende
result = client.upload_post(
    "/path/to/image.jpg",
    "Ma super photo! #insta #photo"
)

# Post sans lÃ©gende
result = client.upload_post("/path/to/image.jpg")

if result["success"]:
    print("âœ… Post publiÃ©!")
else:
    print(f"âŒ Erreur: {result['error']}")

# Formats supportÃ©s: JPG, PNG
# RÃ©solution optimale: 1080x1080
```

### Supprimer une publication

```python
# Supprime la derniÃ¨re publication
result = client.delete_last_post()

if result["success"]:
    print("âœ… Publication supprimÃ©e!")
else:
    print(f"âŒ Erreur: {result['error']}")
```

## ğŸ‘¤ Informations utilisateur

### Mon compte

```python
result = client.get_account_info()

if result["success"]:
    data = result["data"]
    print(f"Username: @{data['username']}")
    print(f"User ID: {client._get_user_id_from_session()}")
    print(f"Nom: {data['full_name']}")
    print(f"Statut: {data['account_status']}")
    print(f"AbonnÃ©s: {data['follower_count']:,}")
    print(f"Abonnements: {data['following_count']:,}")
    print(f"Publications: {data['media_count']:,}")
    print(f"Bio: {data['biography']}")
```

### Infos d'un utilisateur

```python
result = client.get_user_info("https://www.instagram.com/username/")

# Afficher User ID extrait
if client.api:
    user_id = client.api.extract_user_id_from_url(url)
    print(f"ğŸ‘¤ User ID: {user_id}")

if result["success"]:
    data = result["data"]
    print(f"Username: @{data['username']}")
    print(f"User ID: {data['user_id']}")
    print(f"Nom: {data['full_name']}")
    print(f"Statut: {data['account_status']}")
    print(f"VÃ©rifiÃ©: {'Oui' if data['is_verified'] else 'Non'}")
    print(f"AbonnÃ©s: {data['follower_count']:,}")
```

### Infos d'un post

```python
result = client.get_media_info("https://www.instagram.com/p/ABC123/")

# Afficher Media ID extrait
if client.api:
    media_id = client.api.extract_media_id_from_url(url)
    print(f"ğŸ“· Media ID: {media_id}")

if result["success"]:
    data = result["data"]
    print(f"Media ID: {data['id']}")
    print(f"Code: {data['code']}")
    print(f"Likes: {data['like_count']:,}")
    print(f"Commentaires: {data['comment_count']:,}")
    print(f"Auteur: @{data['owner']['username']}")
    print(f"Caption: {data['caption']}")
```

## ğŸ” Recherche et dÃ©couverte

### Rechercher des utilisateurs

```python
result = client.search_users("kenny", count=20)

if result["success"]:
    users = result["data"]
    print(f"ğŸ” {len(users)} rÃ©sultats:")
    
    for user in users:
        verified = " âœ…" if user['is_verified'] else ""
        private = " ğŸ”’" if user['is_private'] else ""
        print(f"@{user['username']}{verified}{private}")
        print(f"  {user['full_name']} - {user['follower_count']:,} abonnÃ©s")
```

### Timeline/Feed

```python
result = client.get_timeline_feed(count=15)

if result["success"]:
    posts = result["data"]
    print(f"ğŸ“± {len(posts)} posts dans votre timeline:")
    
    for post in posts:
        user = post['user']
        print(f"@{user['username']}")
        print(f"  â¤ï¸ {post['like_count']:,} | ğŸ’¬ {post['comment_count']:,}")
        if post['caption']:
            print(f"  ğŸ“ {post['caption'][:80]}...")
```

### AbonnÃ©s et abonnements

```python
# Mes abonnÃ©s
result = client.get_followers(count=50)

# Mes abonnements
result = client.get_following(count=50)

# AbonnÃ©s d'un utilisateur
result = client.get_followers("https://www.instagram.com/username/", count=50)

# Abonnements d'un utilisateur
result = client.get_following("https://www.instagram.com/username/", count=50)

if result["success"]:
    users = result["data"]
    for user in users:
        verified = " âœ…" if user['is_verified'] else ""
        print(f"@{user['username']}{verified}")
        print(f"  {user['full_name']}")
```

### Posts d'un utilisateur

```python
result = client.get_user_media_list("https://www.instagram.com/username/", count=12)

if result["success"]:
    posts = result["data"]
    print(f"ğŸ“¸ {len(posts)} derniers posts:")
    
    for post in posts:
        print(f"Post {post['code']}")
        print(f"  â¤ï¸ {post['like_count']:,} | ğŸ’¬ {post['comment_count']:,}")
        if post['caption']:
            print(f"  ğŸ“ {post['caption'][:60]}...")
```

### Interactions d'un post

```python
# Commentaires
result = client.get_media_comments("https://www.instagram.com/p/ABC123/", count=20)

if result["success"]:
    comments = result["data"]
    for comment in comments:
        user = comment['user']
        print(f"@{user['username']}: {comment['text']}")

# Utilisateurs qui ont likÃ©
result = client.get_media_likers("https://www.instagram.com/p/ABC123/", count=50)

if result["success"]:
    likers = result["data"]
    for user in likers:
        verified = " âœ…" if user['is_verified'] else ""
        print(f"@{user['username']}{verified}")
```

## ğŸš€ Actions avancÃ©es

### Unlike et Unfollow

```python
# Unlike un post
result = client.unlike_post("https://www.instagram.com/p/ABC123/")

# Ne plus suivre
result = client.unfollow_user("https://www.instagram.com/username/")

if result["success"]:
    print("âœ… Action rÃ©ussie!")
else:
    print(f"âŒ Erreur: {result['error']}")
```

### Changer confidentialitÃ©

```python
result = client.toggle_account_privacy()

if result["success"]:
    new_status = result["data"]["new_status"]
    print(f"âœ… Compte maintenant: {new_status}")
else:
    print(f"âŒ Erreur: {result['error']}")
```

### Supprimer un commentaire

```python
# NÃ©cessite l'ID du commentaire
result = client.delete_comment(
    "https://www.instagram.com/p/ABC123/",
    "comment_id_here"
)
```

### Mes publications

```python
if client.api:
    posts = client.api.get_own_media_list(10)
    
    for post in posts:
        print(f"Post {post['code']}")
        print(f"  â¤ï¸ {post['like_count']:,} likes")
        if post['caption']:
            print(f"  ğŸ“ {post['caption'][:50]}...")
```

## ğŸ’¾ Gestion des sessions

### Informations de session

```python
# Informations techniques
print(f"Username: @{client._get_username_from_session()}")
print(f"User ID: {client._get_user_id_from_session()}")
print(f"X-MID: {client.get_x_mid()}")
print(f"Auth Token: {'PrÃ©sent' if client._get_auth_token() else 'Absent'}")
```

### Sauvegarde manuelle

```python
# Sauvegarder session actuelle
session_data = client.dump_session("username")

if session_data:
    print("âœ… Session sauvegardÃ©e")
    print(f"ğŸ“„ Fichier: sessions/username_ig_complete.json")
```

## ğŸ”§ Extraction d'IDs

### Media ID et User ID

```python
# Extraire Media ID
if client.api:
    media_id = client.api.extract_media_id_from_url("https://www.instagram.com/p/ABC123/")
    print(f"ğŸ“· Media ID: {media_id}")

# Extraire User ID avec recherche similaire
if client.api:
    user_id = client.api.extract_user_id_from_url("https://www.instagram.com/username/")
    print(f"ğŸ‘¤ User ID: {user_id}")

# Supporte tous les types de liens courts:
# - https://instagr.am/p/ABC123/
# - https://bit.ly/shortlink
# - https://vt.tiktok.com/ZS123/
# - etc.
```

## âŒ Gestion d'erreurs

### Format de retour standard

```python
# TOUTES les actions retournent:
{
    "success": True/False,
    "error": "message d'erreur dÃ©taillÃ©", 
    "data": {
        # DonnÃ©es spÃ©cifiques Ã  l'action
    }
}
```

### VÃ©rification des rÃ©sultats

```python
result = client.like_post(url)

if result["success"]:
    print("âœ… Action rÃ©ussie!")
    # AccÃ©der aux donnÃ©es: result["data"]
else:
    print(f"âŒ Erreur dÃ©taillÃ©e: {result['error']}")
    
    # Types d'erreurs courants:
    # "Ce media a Ã©tÃ© supprimÃ©"
    # "Utilisateur introuvable" 
    # "Le compte @username est suspendu"
    # "Votre compte a atteint la limite"
    # "Follow en attente de validation"
```

### Gestion des exceptions

```python
try:
    result = client.login("username", "password")
except LicenseError:
    print("âŒ Code d'accÃ¨s requis dans le script")
except AuthenticationError as e:
    print(f"âŒ Erreur d'authentification: {e}")
except TwoFactorError as e:
    print(f"âŒ Erreur 2FA: {e}")
except MediaError as e:
    print(f"âŒ Erreur mÃ©dia: {e}")
except InstagramError as e:
    print(f"âŒ Erreur Instagram: {e}")
```

## ğŸ”— Types de liens supportÃ©s

La bibliothÃ¨que rÃ©sout automatiquement tous les types de liens courts :

```python
# URLs Instagram standard
"https://www.instagram.com/p/ABC123/"
"https://www.instagram.com/username/"

# Liens courts Instagram
"https://instagr.am/p/ABC123/"
"https://ig.me/ABC123"

# Liens courts gÃ©nÃ©riques
"https://bit.ly/shortlink"
"https://tinyurl.com/shortlink"
"https://t.co/shortlink"

# Liens TikTok (pour test)
"https://vt.tiktok.com/ZS123/"

# Et tous autres services de liens courts
```

## ğŸ“Š Formats de donnÃ©es

### Login

```python
{
    "success": True,
    "message": "Connexion rÃ©ussie",
    "user_data": {
        "user_id": "123456789",
        "username": "username",
        "full_name": "Nom Complet",
        "is_verified": False,
        "is_private": False,
        "follower_count": 1500,
        "following_count": 800,
        "media_count": 45
    },
    "session_data": {
        "cookies": {...},
        "authorization": "Bearer IGT:2:...",
        "created_at": 1703001234
    },
    "status": "active"  # ou "suspended", "disabled"
}
```

### User Info

```python
{
    "success": True,
    "data": {
        "user_id": "123456789",
        "username": "username",
        "full_name": "Nom Complet",
        "is_private": False,
        "account_status": "Public",
        "is_verified": False,
        "is_business": False,
        "follower_count": 1500,
        "following_count": 800,
        "media_count": 45,
        "biography": "Ma bio Instagram",
        "profile_pic_url": "https://..."
    }
}
```

### Media Info

```python
{
    "success": True,
    "data": {
        "id": "123456789_123456789",
        "code": "ABC123def456",
        "media_type": 1,  # 1=photo, 2=video
        "like_count": 250,
        "comment_count": 15,
        "caption": "LÃ©gende du post",
        "owner": {
            "user_id": "123456789",
            "username": "username"
        }
    }
}
```

## ğŸ› ï¸ Support et contact

- **TÃ©lÃ©phone**: 0389561802
- **Telegram**: https://t.me/Kenny5626
- **GitHub**: https://github.com/Ken56266325/insta_kendou

## ğŸ“„ Licence

Cette bibliothÃ¨que nÃ©cessite un code d'accÃ¨s pour fonctionner. Contactez le crÃ©ateur pour obtenir les droits d'utilisation.

---

**âš ï¸ Note importante**: Cette bibliothÃ¨que est destinÃ©e Ã  un usage personnel et Ã©ducatif. Respectez les conditions d'utilisation d'Instagram et utilisez-la de maniÃ¨re responsable.
